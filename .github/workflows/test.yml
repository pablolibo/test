on: 
  workflow_dispatch:
    inputs:
      environment:
        description: 'Environment deployment'     
        required: true
        default: 'development' 
        type: choice
        options:
        - development
        - stage
        - production 

jobs:
  log-the-inputs:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        include:
          - environment: development
            chile: chile
            spain: spain
            costarica: costarica
            portugal: portugal
            guatemala: guatemala
            panama: panama
          - environment: stage
            chile: chile
            spain: spain
            costarica: costarica
            portugal: portugal
            guatemala: guatemala
            panama: panama
          - environment: production
            chile: chile
            spain: spain
            costarica: costarica
            portugal: portugal
            guatemala: guatemala
            panama: panama
    steps:
      - run: |
          echo "${{ secrets[github.event.inputs.environment][github.event.inputs.country] }}"
